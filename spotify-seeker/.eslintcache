[{"/Users/sebastianhiguita/Desktop/react/react-varied/spotify-seeker/src/reportWebVitals.js":"1","/Users/sebastianhiguita/Desktop/react/react-varied/spotify-seeker/src/App.js":"2","/Users/sebastianhiguita/Desktop/react/react-varied/spotify-seeker/src/routes/index.js":"3","/Users/sebastianhiguita/Desktop/react/react-varied/spotify-seeker/src/views/Home/index.js":"4","/Users/sebastianhiguita/Desktop/react/react-varied/spotify-seeker/src/utils/index.js":"5","/Users/sebastianhiguita/Desktop/react/react-varied/spotify-seeker/src/index.js":"6","/Users/sebastianhiguita/Desktop/react/react-varied/spotify-seeker/src/api/index.js":"7","/Users/sebastianhiguita/Desktop/react/react-varied/spotify-seeker/src/components/DebugObserver.js":"8","/Users/sebastianhiguita/Desktop/react/react-varied/spotify-seeker/src/recoil/utils/index.js":"9","/Users/sebastianhiguita/Desktop/react/react-varied/spotify-seeker/src/views/Login/index.js":"10","/Users/sebastianhiguita/Desktop/react/react-varied/spotify-seeker/src/components/PrivateRoute.js":"11","/Users/sebastianhiguita/Desktop/react/react-varied/spotify-seeker/src/components/HomeFilters/index.js":"12","/Users/sebastianhiguita/Desktop/react/react-varied/spotify-seeker/src/recoil/songs/atoms.js":"13","/Users/sebastianhiguita/Desktop/react/react-varied/spotify-seeker/src/recoil/songs/selectors.js":"14","/Users/sebastianhiguita/Desktop/react/react-varied/spotify-seeker/src/components/ListItem/index.js":"15","/Users/sebastianhiguita/Desktop/react/react-varied/spotify-seeker/src/components/Track.js":"16","/Users/sebastianhiguita/Desktop/react/react-varied/spotify-seeker/src/components/Album.js":"17","/Users/sebastianhiguita/Desktop/react/react-varied/spotify-seeker/src/components/Artist.js":"18","/Users/sebastianhiguita/Desktop/react/react-varied/spotify-seeker/src/components/Episode.js":"19","/Users/sebastianhiguita/Desktop/react/react-varied/spotify-seeker/src/components/Playlist.js":"20"},{"size":362,"mtime":1608397790524,"results":"21","hashOfConfig":"22"},{"size":342,"mtime":1608485391157,"results":"23","hashOfConfig":"22"},{"size":382,"mtime":1608506800109,"results":"24","hashOfConfig":"22"},{"size":4062,"mtime":1609112593001,"results":"25","hashOfConfig":"22"},{"size":1423,"mtime":1608607643626,"results":"26","hashOfConfig":"22"},{"size":500,"mtime":1608397790523,"results":"27","hashOfConfig":"22"},{"size":151,"mtime":1608419942738,"results":"28","hashOfConfig":"22"},{"size":697,"mtime":1608601585573,"results":"29","hashOfConfig":"22"},{"size":850,"mtime":1608601616062,"results":"30","hashOfConfig":"22"},{"size":2831,"mtime":1608602666119,"results":"31","hashOfConfig":"22"},{"size":649,"mtime":1608506847923,"results":"32","hashOfConfig":"22"},{"size":1529,"mtime":1609080387146,"results":"33","hashOfConfig":"22"},{"size":304,"mtime":1609080391877,"results":"34","hashOfConfig":"22"},{"size":549,"mtime":1609081901219,"results":"35","hashOfConfig":"22"},{"size":540,"mtime":1609083906188,"results":"36","hashOfConfig":"22"},{"size":413,"mtime":1609112186018,"results":"37","hashOfConfig":"22"},{"size":423,"mtime":1609112178574,"results":"38","hashOfConfig":"22"},{"size":363,"mtime":1609112207077,"results":"39","hashOfConfig":"22"},{"size":423,"mtime":1609112306600,"results":"40","hashOfConfig":"22"},{"size":396,"mtime":1609112364822,"results":"41","hashOfConfig":"22"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},"fn73at",{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"55"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"64","usedDeprecatedRules":"44"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/sebastianhiguita/Desktop/react/react-varied/spotify-seeker/src/reportWebVitals.js",[],["85","86"],"/Users/sebastianhiguita/Desktop/react/react-varied/spotify-seeker/src/App.js",[],"/Users/sebastianhiguita/Desktop/react/react-varied/spotify-seeker/src/routes/index.js",[],"/Users/sebastianhiguita/Desktop/react/react-varied/spotify-seeker/src/views/Home/index.js",[],"/Users/sebastianhiguita/Desktop/react/react-varied/spotify-seeker/src/utils/index.js",[],"/Users/sebastianhiguita/Desktop/react/react-varied/spotify-seeker/src/index.js",[],["87","88"],"/Users/sebastianhiguita/Desktop/react/react-varied/spotify-seeker/src/api/index.js",[],"/Users/sebastianhiguita/Desktop/react/react-varied/spotify-seeker/src/components/DebugObserver.js",[],"/Users/sebastianhiguita/Desktop/react/react-varied/spotify-seeker/src/recoil/utils/index.js",[],"/Users/sebastianhiguita/Desktop/react/react-varied/spotify-seeker/src/views/Login/index.js",["89","90","91"],"import { useEffect, useCallback } from \"react\";\nimport { useRecoilState } from \"recoil\";\nimport { useHistory, useLocation } from \"react-router-dom\";\n\nimport {\n  isAuthenticated as isAuthenticatedAtom,\n  spotifyRefreshToken as spotifyRefreshTokenAtom,\n  spotifyTokenResponse as spotifyTokenResponseAtom,\n} from \"../../recoil/auth/atoms\";\nimport { spotifyAuthCall } from \"../../utils\";\nimport homeImage from \"../../assets/images/home.png\";\nimport \"./style.css\";\n\nconst spotifyUrl = `https://accounts.spotify.com/authorize?client_id=${process.env.REACT_APP_SPOTIFY_CLIENT_ID}&response_type=code&redirect_uri=${process.env.REACT_APP_SPOTIFY_CALLBACK_HOST}&scope=user-read-private`;\n\nexport default function Home() {\n  const location = useLocation();\n  const history = useHistory();\n  const [isAuthenticated, setIsAuthenticated] = useRecoilState(\n    isAuthenticatedAtom\n  );\n  const [spotifyRefreshToken, setSpotifyRefreshToken] = useRecoilState(\n    spotifyRefreshTokenAtom\n  );\n  const [spotifyTokenResponse, setSpotifyTokenResponse] = useRecoilState(\n    spotifyTokenResponseAtom\n  );\n\n  const authenticateUser = useCallback(\n    async (code) => {\n      try {\n        let response;\n\n        if (spotifyRefreshToken) {\n          response = await spotifyAuthCall({\n            refresh_token: spotifyRefreshToken,\n            grant_type: \"refresh_token\",\n          });\n        } else {\n          response = await spotifyAuthCall({\n            code,\n            grant_type: \"authorization_code\",\n          });\n        }\n\n        if (response.access_token) {\n          setSpotifyRefreshToken(response?.refresh_token);\n          setSpotifyTokenResponse(response);\n          setIsAuthenticated(true);\n\n          history.replace(\"/home\");\n        } else {\n          throw new Error(\"User not logged\");\n        }\n      } catch (error) {\n        console.log(error);\n\n        setSpotifyTokenResponse(null);\n        setSpotifyRefreshToken(null);\n        setIsAuthenticated(false);\n      }\n    },\n    [\n      setSpotifyRefreshToken,\n      setSpotifyTokenResponse,\n      setIsAuthenticated,\n      spotifyRefreshToken,\n    ]\n  );\n\n  useEffect(() => {\n    const urlParams = new URLSearchParams(location.search);\n    const spotifyCode = urlParams.get(\"code\");\n\n    if (spotifyCode || isAuthenticated) authenticateUser(spotifyCode);\n  }, [location.search]);\n\n  const handleLoginClick = () => {\n    window.location.replace(spotifyUrl);\n  };\n\n  return (\n    <div className=\"home-container\">\n      <div className=\"home-left-child\">\n        <h3>Bienvenido de nuevo</h3>\n        <h6>identifícate para encontrar tu música favorita</h6>\n        <button onClick={handleLoginClick}>Iniciar sesión</button>\n      </div>\n      <div\n        className=\"home-right-child\"\n        style={{ backgroundImage: `url(${homeImage})` }}\n      ></div>\n    </div>\n  );\n}\n","/Users/sebastianhiguita/Desktop/react/react-varied/spotify-seeker/src/components/PrivateRoute.js",[],"/Users/sebastianhiguita/Desktop/react/react-varied/spotify-seeker/src/components/HomeFilters/index.js",[],"/Users/sebastianhiguita/Desktop/react/react-varied/spotify-seeker/src/recoil/songs/atoms.js",[],"/Users/sebastianhiguita/Desktop/react/react-varied/spotify-seeker/src/recoil/songs/selectors.js",[],"/Users/sebastianhiguita/Desktop/react/react-varied/spotify-seeker/src/components/ListItem/index.js",[],"/Users/sebastianhiguita/Desktop/react/react-varied/spotify-seeker/src/components/Track.js",[],"/Users/sebastianhiguita/Desktop/react/react-varied/spotify-seeker/src/components/Album.js",[],"/Users/sebastianhiguita/Desktop/react/react-varied/spotify-seeker/src/components/Artist.js",[],"/Users/sebastianhiguita/Desktop/react/react-varied/spotify-seeker/src/components/Episode.js",[],"/Users/sebastianhiguita/Desktop/react/react-varied/spotify-seeker/src/components/Playlist.js",[],{"ruleId":"92","replacedBy":"93"},{"ruleId":"94","replacedBy":"95"},{"ruleId":"92","replacedBy":"96"},{"ruleId":"94","replacedBy":"97"},{"ruleId":"98","severity":1,"message":"99","line":25,"column":10,"nodeType":"100","messageId":"101","endLine":25,"endColumn":30},{"ruleId":"102","severity":1,"message":"103","line":63,"column":5,"nodeType":"104","endLine":68,"endColumn":6,"suggestions":"105"},{"ruleId":"102","severity":1,"message":"106","line":76,"column":6,"nodeType":"104","endLine":76,"endColumn":23,"suggestions":"107"},"no-native-reassign",["108"],"no-negated-in-lhs",["109"],["108"],["109"],"no-unused-vars","'spotifyTokenResponse' is assigned a value but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useCallback has a missing dependency: 'history'. Either include it or remove the dependency array.","ArrayExpression",["110"],"React Hook useEffect has missing dependencies: 'authenticateUser' and 'isAuthenticated'. Either include them or remove the dependency array.",["111"],"no-global-assign","no-unsafe-negation",{"desc":"112","fix":"113"},{"desc":"114","fix":"115"},"Update the dependencies array to be: [spotifyRefreshToken, setSpotifyRefreshToken, setSpotifyTokenResponse, setIsAuthenticated, history]",{"range":"116","text":"117"},"Update the dependencies array to be: [authenticateUser, isAuthenticated, location.search]",{"range":"118","text":"119"},[1987,2108],"[spotifyRefreshToken, setSpotifyRefreshToken, setSpotifyTokenResponse, setIsAuthenticated, history]",[2319,2336],"[authenticateUser, isAuthenticated, location.search]"]